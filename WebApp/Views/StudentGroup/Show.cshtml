@model BusinessLayer.DTO.StudentGroupDTO
@{
	ViewBag.Title = "StudentGroup Details";
}

<h2>Student-Group Details</h2>

<p>
	@Html.ActionLink("All StudentGroups", "Index")
</p>
@using (Html.BeginForm())
{
<table class="table">

	<tr>
		<td>
			<b>ID:</b>
		</td>
		<td>
			@Html.DisplayFor(model => model.Id)
		</td>
	</tr>
	@if (User.IsInRole("Admin, Teacher"))
	{
		<tr>
			<td>
				<b>Code:</b>
			</td>
			<td>
				@Html.DisplayFor(model => model.Code)
			</td>
		</tr>
	}

	<tr>
		<td>
			<b>Test Patterns:</b>
		</td>
		<td>
			<table class="table-bordered">
				@foreach (var pattern in Model.TestPatterns)
				{
					<tr>
						<td align="center">@pattern.Name</td>
					</tr>
				}
			</table>
		</td>
	</tr>

	@if (User.IsInRole("Admin, Teacher"))
	{
		<tr>
			<td>
				<b>Students:</b>
			</td>
			<td>
				<table class="table-bordered">
					@foreach (var enrollment in Model.Enrollments)
					{
						<tr>
							<td align="center">@enrollment.Student.Id</td>
							<td>@enrollment.Student.FirstName</td>
							<td>@enrollment.Student.Surname</td>
						</tr>
					}
				</table>
			</td>
		</tr>
	}
	<tr>
		<td>
			<b>Teacher:</b>
		</td>
		<td>
			@Html.DisplayFor(model => model.Teacher.Surname),
			@Html.DisplayFor(model => model.Teacher.FirstName)
		</td>
	</tr>


	@if (User.IsInRole("Student"))
	{
		<tr>
			
			@Html.AntiForgeryToken()
			<div>
				@Html.LabelFor(model => model.Code)
				@Html.EditorFor(model => model.Code)
				@Html.ValidationMessageFor(model => model.Code, "", new { @class = "text-danger" })
			</div>
			<input type="submit" value="Join Student-Group" />
		</tr>
	}

	@if (User.IsInRole("Admin, Teacher"))
	{
		<tr>
			<td>
				<b>Actions:</b>
			</td>
			<td>
				@Html.ActionLink("Edit", "Edit", new { id = Model.Id })
			</td>
		</tr>
	}


</table>
}

